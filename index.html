<html>
<head>Test47
<title>Bitcoin Price Index Watcher in HTML5</title>
<style type="text/css">
  #data {
    text-align: center;
  }
</style>
</head>
<body>
  <div id="data" />
  
  <script type="text/javascript">
let output1
let output2
const apiEndpoints = [
    'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd',
    'https://chain.api.btc.com/v3/block/latest'
    //https://chain.api.btc.com/v3/block/latest
]

function loadApiData(url) {
    return fetch(url).then(response => response.json())
}

Promise.all(apiEndpoints.map(loadApiData))
    .then(stuffToDoAfterLoadedData)

function stuffToDoAfterLoadedData(data) {
    const c1 = 100
    const output1 = data[1].data.difficulty * 5
    const output2 = data[0].bitcoin.usd * c1
    

    document.getElementById("data").textContent = `${output1}
    ${output2}`
}
</script>

  
</body>
</html>
